<!doctype html>
<html><head><meta charset="utf-8"><title>Voice Retail Dashboard</title>
<style>
body{font-family:system-ui;margin:0;padding:20px;background:#f8f8f8;}
header{display:flex;justify-content:space-between;align-items:center;}
button{padding:8px 10px;border:none;border-radius:8px;background:#4caf50;color:#fff;cursor:pointer;}
.card{background:#fff;padding:12px;border-radius:10px;margin:10px 0;box-shadow:0 2px 6px rgba(0,0,0,0.1);}
</style></head>
<body>
<header><h2>Voice Retail Dashboard</h2>
<div><input type="number" id="shopId" value="1" style="width:60px">
<button id="refresh">Refresh</button><button id="simulate">Simulate Voice</button></div></header>
<div id="orders"></div>
<script>
const APIKEY='demo123';
async function load(){
  let r=await fetch(`/api/get_orders.php?api_key=${APIKEY}`);
  let j=await r.json(); render(j.orders||[]);
}
function render(orders){
  let box=document.getElementById('orders'); box.innerHTML='';
  if(!orders.length){box.innerHTML='<p>No orders yet</p>';return;}
  orders.forEach(o=>{let div=document.createElement('div');div.className='card';
  div.innerHTML=`<strong>Order #${o.id}</strong> - ${o.customer_name||''}<br>Status: ${o.status}<br>Total: ${o.total}`;box.prepend(div);});
}
document.getElementById('refresh').onclick=load;
document.getElementById('simulate').onclick=async()=>{await fetch(`/api/dummy_voice.php?api_key=${APIKEY}`);load();};
load();
</script></body></html>